{"version":3,"file":"pages/index.js","sources":["webpack:///./pages/index.vue?f443","webpack:///./assets/logo.png","webpack:///./pages/index.vue?7f59","webpack:///./pages/index.vue?bb67","webpack:///./pages/index.vue?7f36","webpack:///./pages/index.vue","webpack:///./pages/index.vue?b1ff","webpack:///./pages/index.vue?b245"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"1b7833da\", content, true, context)\n};","module.exports = __webpack_public_path__ + \"img/logo.a2d9645.png\";","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".container{margin:0;min-height:100vh;min-width:100vw;padding:0!important;display:flex;flex-direction:column;justify-content:center;text-align:center;background-color:#451775}.restroom-container{background-color:#d0b9f7;padding:10px;border-radius:7px;width:50vw}.full-width{width:100%}.overflow{word-wrap:break-word;word-break:break-all}.title{font-family:\\\"Quicksand\\\",\\\"Source Sans Pro\\\",-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,\\\"Helvetica Neue\\\",Arial,sans-serif;display:block;font-weight:700;font-size:14px;color:#35495e;letter-spacing:1px}.subtitle{font-size:12px}.subscription,.subtitle{font-weight:700;color:#fff}.subscription{font-size:10px}.ranking{padding:5px;border-radius:5px}.ranking-text{font-size:10px;color:#fff;font-weight:700}.links{padding-top:15px}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('b-navbar',{staticStyle:{\"width\":\"100vw\"},attrs:{\"sticky\":\"\",\"fixed\":\"\",\"variant\":\"white\",\"type\":\"light\"}},[_c('b-navbar-brand',{staticClass:\"d-flex\",attrs:{\"href\":\"#\"}},[_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\"},attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"Kitten\"}}),_vm._v(\" \"),_c('div',{staticClass:\"ml-2\"},[_vm._v(\"Safe Restrooms\")])])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"flex-grow-1 d-flex flex-column align-items-center justify-content-center pt-2 pb-2\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"d-flex flex-column\\\">\",\"</div>\",[(!_vm.loading)?_vm._ssrNode(\"<div class=\\\"mb-3\\\">\",\"</div>\",[_c('b-form-input',{staticClass:\"mb-2\",attrs:{\"placeholder\":\"Busque por aqui!\"},on:{\"change\":_vm.onChangeText},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"d-flex\\\">\",\"</div>\",[_c('b-form-checkbox',{staticClass:\"mr-3\",attrs:{\"id\":\"checkbox-1\",\"name\":\"checkbox-1\"},on:{\"change\":_vm.onChange},model:{value:(_vm.unisex),callback:function ($$v) {_vm.unisex=$$v},expression:\"unisex\"}},[_c('small',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"Banheiros Unisex\")])]),_vm._ssrNode(\" \"),_c('b-form-checkbox',{attrs:{\"id\":\"checkbox-2\",\"name\":\"checkbox-2\"},on:{\"change\":_vm.onChange},model:{value:(_vm.acessible),callback:function ($$v) {_vm.acessible=$$v},expression:\"acessible\"}},[_c('small',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"Banheiros Acessíveis\")])])],2)],2):_vm._e(),_vm._ssrNode(\" \"),(!_vm.loading && _vm.restrooms.length > 0)?_vm._ssrNode(\"<div class=\\\"flex-grow-1\\\">\",\"</div>\",_vm._l((_vm.restrooms),function(restroom,index){return _vm._ssrNode(\"<div class=\\\"d-flex flex-column restroom-container mb-2\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"d-flex justify-content-between full-width\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"text-left overflow flex-grow-1\\\" style=\\\"max-width: 80%\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(restroom.name))+\"</div> \"),_vm._ssrNode(\"<div class=\\\"d-flex align-center\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"subtitle mr-1 align-self-center\\\">\"+_vm._ssrEscape(_vm._s(restroom.street)+\", \"+_vm._s(restroom.city)+\" - \"+_vm._s(restroom.state))+\"</div> \"),(restroom.directions != '')?_c('b-icon',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:((\"collapse-\" + index)),expression:\"`collapse-${index}`\"}],staticClass:\"align-self-center\",attrs:{\"icon\":_vm.collapse[index] ? 'plus' : 'x',\"variant\":\"white\",\"font-scale\":\"1\"},on:{\"click\":function($event){_vm.collapse[index] = !_vm.collapse[index]}}}):_vm._e()],2),_vm._ssrNode(\" \"),(restroom.directions != '')?_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":(\"collapse-\" + index)}},[_c('div',{staticClass:\"subscription ml-3\"},[_vm._v(_vm._s(restroom.directions))])]):_vm._e()],2),_vm._ssrNode(\" \"),_c('country-flag',{attrs:{\"country\":restroom.country,\"size\":\"normal\"}})],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"d-flex justify-content-between mt-2\\\">\",\"</div>\",[_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(((restroom.upvote == 0 && restroom.downvote == 0)?(\"<div class=\\\"ranking\\\" style=\\\"background-color: grey\\\"><div class=\\\"ranking-text\\\">não avaliado</div></div>\"):\"<!---->\")+\" \"+((restroom.upvote < restroom.downvote)?(\"<div class=\\\"ranking\\\" style=\\\"background-color: red\\\"><div class=\\\"ranking-text\\\">mal avaliado</div></div>\"):\"<!---->\")+\" \"+((restroom.upvote > restroom.downvote)?(\"<div\"+(_vm._ssrAttr(\"id\",(\"tooltip-success-\" + index)))+\" class=\\\"ranking\\\" style=\\\"background-color: green\\\"><div class=\\\"ranking-text\\\">bem avaliado</div></div>\"):\"<!---->\")+\" \"),_c('b-tooltip',{attrs:{\"target\":(\"tooltip-success-\" + index),\"triggers\":\"hover\"}},[_c('div',{staticClass:\"ranking-text\"},[_vm._v(_vm._s(((restroom.upvote/(restroom.upvote + restroom.downvote))*100).toFixed(2))+\" % aprovado\")])]),_vm._ssrNode(\" \"),_c('b-tooltip',{attrs:{\"target\":(\"tooltip-failure-\" + index),\"triggers\":\"hover\"}},[_c('div',{staticClass:\"ranking-text\"},[_vm._v(_vm._s(((restroom.downvote/(restroom.upvote + restroom.downvote))*100).toFixed(2))+\" % não aprovado\")])])],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div>\",\"</div>\",[(restroom.accessible)?_c('b-icon',{staticClass:\"align-self-center\",attrs:{\"icon\":\"shield-fill-check\",\"variant\":\"white\",\"font-scale\":\"1\"}}):_vm._e(),_vm._ssrNode(\" \"),(restroom.unisex)?_c('b-icon',{staticClass:\"align-self-center\",attrs:{\"icon\":\"shield-shaded\",\"variant\":\"white\",\"font-scale\":\"1\"}}):_vm._e()],2)],2)],2)}),0):_vm._ssrNode(\"<div class=\\\"d-flex flex-column\\\">\",\"</div>\",[_c('b-spinner',{staticClass:\"align-self-center\",attrs:{\"type\":\"grow\",\"variant\":\"white\",\"label\":\"Spinning\"}}),_vm._ssrNode(\" <small class=\\\"mt-1\\\" style=\\\"color: white\\\">Loading...</small>\")],2),_vm._ssrNode(\" \"),(!_vm.loading)?_vm._ssrNode(\"<div class=\\\"d-flex justify-content-between\\\">\",\"</div>\",[_c('b-button',{attrs:{\"variant\":\"dark\",\"disabled\":_vm.page == 1},on:{\"click\":function($event){return _vm.searchBack()}}},[_vm._v(\"Voltar\")]),_vm._ssrNode(\" \"),_c('b-button',{attrs:{\"variant\":\"dark\"},on:{\"click\":function($event){return _vm.searchNext()}}},[_vm._v(\"Próxima\")])],2):_vm._e()],2)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport CountryFlag from 'vue-country-flag'\n\nexport default {\n  name: 'index',\n  components: { CountryFlag },\n  data() {\n    return {\n      location: null,\n      gettingLocation: false,\n      errorStr: null,\n      restrooms: {},\n      collapse: [],\n      page: 1,\n      unisex: false,\n      acessible: false,\n      search: '',\n      loading: true\n    }\n  },\n  mounted() {\n    navigator.geolocation.getCurrentPosition(\n     position => {\n       console.log(position.coords.latitude);\n       console.log(position.coords.longitude);\n     },\n     error => {\n       console.log(error.message);\n     },\n  )  \n\n    axios.get(`https://www.refugerestrooms.org/api/v1/restrooms?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`)\n      .then(response => {\n        console.log(response.data[0])\n\n        response.data.map((dt, index) => {\n          this.collapse[index] = true\n        })\n        this.restrooms = response.data\n        this.loading = false\n      })\n\n  },\n\n  methods: {\n    console() {\n      console.log('entrou')\n    },\n\n    searchNext() {\n      this.loading = true\n      this.page++ \n\n      var URL = '';\n\n      if(this.search == ''){\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      } else {\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms/search?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      }\n\n      axios.get(URL)\n      .then(response => {\n        console.log(response.data[0])\n\n        response.data.map((dt, index) => {\n          this.collapse[index] = true\n        })\n        this.restrooms = response.data\n        this.loading = false\n      })\n    },\n\n    searchBack() {\n      this.loading = true\n      this.page--\n\n      var URL = '';\n\n      if(this.search == ''){\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      } else {\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms/search?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      }\n\n      axios.get(URL)\n      .then(response => {\n        console.log(response.data[0])\n\n        response.data.map((dt, index) => {\n          this.collapse[index] = true\n        })\n        this.restrooms = response.data\n        this.loading = false\n      })\n    },\n\n    onChange() {\n      this.loading = true\n      var URL = '';\n\n      if(this.search == ''){\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      } else {\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms/search?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      }\n      \n      axios.get(URL)\n        .then(response => {\n          \n          response.data.map((dt, index) => {\n            this.collapse[index] = true\n          })\n          this.restrooms = response.data\n          this.loading = false\n        })\n    },\n\n    onChangeText() {\n      this.loading = true\n      var URL = '';\n\n      if(this.search == ''){\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      } else {\n        URL = `https://www.refugerestrooms.org/api/v1/restrooms/search?page=${this.page}&per_page=5&offset=0&ada=${this.acessible}&unisex=${this.unisex}&query=${this.search}`\n      }\n      \n      axios.get(URL)\n        .then(response => {\n          \n          response.data.map((dt, index) => {\n            this.collapse[index] = true\n          })\n          this.restrooms = response.data\n          this.loading = false\n        })\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2abf304a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"11f281fe\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;AAzCA;;AC7FA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}